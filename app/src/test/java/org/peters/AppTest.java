/*
 * This source file was generated by the Gradle 'init' task
 */
package org.peters;

import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.jupiter.api.Test;

import java.io.File;
import java.io.IOException;

import static org.junit.jupiter.api.Assertions.assertEquals;


class AppTest {

    ObjectMapper objectMapper = new ObjectMapper();

    @Test void nslookup()throws IOException{
      App classUnderTest = new App();
     }

    @Test void jsonParseConfig() throws IOException {
        File file = new File("src/main/resources/config.json");
        Config config = objectMapper.readValue(file, Config.class);
        String url = config.getUrl();
        String host = config.getHost();
        System.out.println(url);
        System.out.println(host);
        assertEquals(url,"https://www.dnsjava.org");
        assertEquals(host,"www.dnsjava.org");
    }

    @Test void getPublicIP()throws IOException{
        App classUnderTest = new App();
        String ip = classUnderTest.getPublicIP();
        System.out.println(ip);
        assertEquals(ip, "73.3.107.235");
    }
}

